<template>
   <div class="navbar-wrapper">
      <div class="container">
         <nav class="navbar navbar-inverse navbar-static-top" role="navigation">
            <div class="navbar-header">
               <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-collapse-1">
                  <span class="sr-only">Toggle Navigation</span>
                  <span class="icon-bar"></span>
                  <span class="icon-bar"></span>
                  <span class="icon-bar"></span>
               </button>
               <a class="navbar-brand" href="#">
                  <i class="fa fa-home"></i>
                  <span>${router.title}</span>
               </a>
            </div>

            <div class="collapse navbar-collapse" id="navbar-collapse-1">
               <ul class="nav navbar-nav">
                  <li repeat.for="row of router.navigation" class="${row.isActive ? 'active' : ''}">
                     <a href.bind="row.href">${row.title}</a>
                  </li>
               </ul>
               <ul class="nav navbar-nav navbar-right" >
                  <li if.bind="!usernav.isSignedIn">
                     <a href="/#/login">Log In</a>
                  </li>
                  <li class="dropdown" if.bind="usernav.isSignedIn">
                     <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                        ${usernav.name}
                        <b class="caret"></b>
                     </a>
                     <ul class="dropdown-menu">
                        <li>
                           <div class="navbar-content">
                              <div class="row">
                                 <div class="col-md-5">
                                    <img src="http://placehold.it/120x120"
                                    alt="Alternate Text" class="img-responsive" />
                                    <p class="text-center small">
                                       <a href="#">Change Photo</a></p>
                                 </div>
                                 <div class="col-md-7">
                                    <span>${usernav.fullName}</span>
                                    <p class="text-muted small">
                                       ${user.email}</p>
                                    <div class="divider">
                                    </div>
                                    <a href="#" class="btn btn-primary btn-sm active">View Profile</a>
                                 </div>
                              </div>
                           </div>
                           <div class="navbar-footer">
                              <div class="navbar-footer-content">
                                 <div class="row">
                                    <div class="col-md-6">
                                       <a href="#" class="btn btn-default btn-sm">Change Passowrd</a>
                                    </div>
                                    <div class="col-md-6">
                                       <a click.trigger="usernav.logout()" class="btn btn-default btn-sm pull-right">Sign Out</a>
                                    </div>
                                 </div>
                              </div>
                           </div>
                        </li>
                     </ul>
                  </li>
               </ul>
               <ul class="nav navbar-nav navbar-right">
                  <li class="loader" if.bind="router.isNavigating">
                     <i class="fa fa-spinner fa-spin fa-2x"></i>
                  </li>
               </ul>
            </div>
         </nav>
      </div>
   </div>
</template>
